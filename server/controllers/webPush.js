"use strict";var Hapi=require("hapi"),webPush=require("../models/webPush"),Boom=require("boom");exports.createSubscription=function(o,e){var r=o.mongo.db.db("vbx_current");webPush.createSubscription({data:o.payload,db:r}).then(function(o){e(o.result)}).catch(function(o){var r=Boom.badRequest(o);console.info("webPush controller : ","createSubscription: Error "+o),e(r)})},exports.deleteSubscription=function(o,e){var r=o.mongo.db.db("vbx_current");webPush.deleteSubscription({data:o.params,db:r}).then(function(o){e(o.result)}).catch(function(o){var r=Boom.badRequest(o);console.info("webPush controller : ","deleteSubscription : Error "+o),e(r)})},exports.notifyAll=function(o,e){var r=o.mongo.db.db("vbx_current");webPush.notifyAll({data:o.params,db:r}).then(function(o){e(o.result)}).catch(function(o){var r=Boom.badRequest(o);console.info("webPush controller : ","notifyAll : Error "+o),e(r)})};