"use strict";var Hapi=require("hapi"),webPush=require("../models/webPush"),Boom=require("boom");exports.createSubscription=function(o,r){var e=o.mongo.db.db("vbx_current");webPush.createSubscription({data:o.payload,db:e}).then(function(o){r(o.result)}).catch(function(o){var e=Boom.badRequest(o);console.info("webPush controller : ","createSubscription: Error "+o),r(e)})},exports.deleteSubscription=function(o,r){var e=o.mongo.db.db("vbx_current");webPush.deleteSubscription({data:o.params,db:e}).then(function(o){r(o.result)}).catch(function(o){var e=Boom.badRequest(o);console.info("webPush controller : ","deleteSubscription : Error "+o),r(e)})},exports.notifyAll=function(o,r){var e=o.mongo.db.db("vbx_current");webPush.notifyAll({data:o.params,db:e}).then(function(o){r(o.result)}).catch(function(o){var e=Boom.badRequest(o);console.info("webPush controller : ","notifyAll : Error "+o),r(e)})};